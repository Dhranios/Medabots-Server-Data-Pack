summon minecraft:armor_stand ~ ~ ~ {Tags:["chess","origin","new","turn_white"],Invisible:1b}
summon minecraft:armor_stand ~3.5 ~ ~3.5 {Tags:["chess","chess_field","new"],Invisible:1b,Marker:1b,Rotation:[0.0f,0.0f],HandItems:[{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:2}},{}],Pose:{RightArm:[0.0f,0.0f,0.0f]}}
summon minecraft:armor_stand ~ ~ ~ {Tags:["chess","rook","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:4}}]}
summon minecraft:armor_stand ~ ~ ~1 {Tags:["chess","knight","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:5}}]}
summon minecraft:armor_stand ~ ~ ~2 {Tags:["chess","bishop","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:6}}]}
summon minecraft:armor_stand ~ ~ ~3 {Tags:["chess","queen","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:7}}]}
summon minecraft:armor_stand ~ ~ ~4 {Tags:["chess","king","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:8}}]}
summon minecraft:armor_stand ~ ~ ~5 {Tags:["chess","bishop","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:6}}]}
summon minecraft:armor_stand ~ ~ ~6 {Tags:["chess","knight","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:5}}]}
summon minecraft:armor_stand ~ ~ ~7 {Tags:["chess","rook","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:4}}]}
summon minecraft:armor_stand ~1 ~ ~ {Tags:["chess","pawn","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:3}}]}
summon minecraft:armor_stand ~1 ~ ~1 {Tags:["chess","pawn","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:3}}]}
summon minecraft:armor_stand ~1 ~ ~2 {Tags:["chess","pawn","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:3}}]}
summon minecraft:armor_stand ~1 ~ ~3 {Tags:["chess","pawn","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:3}}]}
summon minecraft:armor_stand ~1 ~ ~4 {Tags:["chess","pawn","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:3}}]}
summon minecraft:armor_stand ~1 ~ ~5 {Tags:["chess","pawn","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:3}}]}
summon minecraft:armor_stand ~1 ~ ~6 {Tags:["chess","pawn","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:3}}]}
summon minecraft:armor_stand ~1 ~ ~7 {Tags:["chess","pawn","white","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[-90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:3}}]}
summon minecraft:armor_stand ~6 ~ ~ {Tags:["chess","pawn","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:9}}]}
summon minecraft:armor_stand ~6 ~ ~1 {Tags:["chess","pawn","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:9}}]}
summon minecraft:armor_stand ~6 ~ ~2 {Tags:["chess","pawn","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:9}}]}
summon minecraft:armor_stand ~6 ~ ~3 {Tags:["chess","pawn","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:9}}]}
summon minecraft:armor_stand ~6 ~ ~4 {Tags:["chess","pawn","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:9}}]}
summon minecraft:armor_stand ~6 ~ ~5 {Tags:["chess","pawn","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:9}}]}
summon minecraft:armor_stand ~6 ~ ~6 {Tags:["chess","pawn","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:9}}]}
summon minecraft:armor_stand ~6 ~ ~7 {Tags:["chess","pawn","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:9}}]}
summon minecraft:armor_stand ~7 ~ ~ {Tags:["chess","rook","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:10}}]}
summon minecraft:armor_stand ~7 ~ ~1 {Tags:["chess","knight","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:11}}]}
summon minecraft:armor_stand ~7 ~ ~2 {Tags:["chess","bishop","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:12}}]}
summon minecraft:armor_stand ~7 ~ ~3 {Tags:["chess","queen","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:13}}]}
summon minecraft:armor_stand ~7 ~ ~4 {Tags:["chess","king","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:14}}]}
summon minecraft:armor_stand ~7 ~ ~5 {Tags:["chess","bishop","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:12}}]}
summon minecraft:armor_stand ~7 ~ ~6 {Tags:["chess","knight","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:11}}]}
summon minecraft:armor_stand ~7 ~ ~7 {Tags:["chess","rook","black","new","chess_piece"],Invisible:1b,Marker:1b,Rotation:[90.0f,0.0f],ArmorItems:[{},{},{},{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Damage:10,Unbreakable:1b,CustomModelData:10}}]}

execute as @e[tag=new] store result score @s PosX run data get entity @s Pos[0]
execute as @e[tag=new] store result score @s PosZ run data get entity @s Pos[2]
execute as @e[tag=new,tag=!origin] run scoreboard players operation @s PosX -= @e[tag=new,tag=origin,limit=1] PosX
execute as @e[tag=new,tag=!origin] run scoreboard players operation @s PosZ -= @e[tag=new,tag=origin,limit=1] PosZ
scoreboard players operation @s ChessNr > @e[scores={ChessNr=0..}] ChessNr
scoreboard players add @s ChessNr 1
scoreboard players operation @e[tag=new] ChessNr = @s ChessNr
scoreboard players operation @a[tag=awaiting_chess_response,distance=..10,limit=1] ChessNr = @s ChessNr
scoreboard players operation @a[tag=challenged_to_chess,distance=..10,limit=1] ChessNr = @s ChessNr

tag @e[tag=new] remove new