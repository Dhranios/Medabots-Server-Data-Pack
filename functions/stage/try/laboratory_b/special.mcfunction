execute unless entity @s[advancements={medabots_server:stages/wave_1/laboratory_b_special=false},tag=!vs_cpus] if entity @s[advancements={medabots_server:special_items/passes/experiment=true}] if entity @s[nbt={SelectedItem:{tag:{medabots_server:{part:"tinpet",items:{head:{tag:{medabots_server:{id:"medabots_server:flame_tisala_sala_head"}}},right_arm:{tag:{medabots_server:{id:"medabots_server:flame_tisala_sala_hand"}}},left_arm:{tag:{medabots_server:{id:"medabots_server:flame_tisala_sala_arm"}}},legs:{tag:{medabots_server:{id:"medabots_server:flame_tisala_sala_tail"}}}}}}}}] unless entity @s[advancements={medabots_server:stages/wave_1/laboratory_b_special=true,medabots_server:mt_battle/medabot_vs_megabot=false}] if entity @s[nbt={SelectedItem:{tag:{medabots_server:{part:"tinpet",items:{medal:{tag:{medabots_server:{part:"medal"}}},head:{tag:{medabots_server:{part:"head"}}},right_arm:{tag:{medabots_server:{part:"right_arm"}}},left_arm:{tag:{medabots_server:{part:"left_arm"}}},legs:{tag:{medabots_server:{part:"legs"}}}}}}}}] run function medabots_server:stage/create/laboratory_b/special_initialization
execute if entity @s[advancements={medabots_server:stages/wave_1/laboratory_b_special=false},tag=!vs_cpus] run tellraw @s {"translate":"medabots_server:message.stage.clear_before_players"}
execute unless entity @s[advancements={medabots_server:special_items/passes/experiment=true}] run tellraw @s {"translate":"medabots_server:message.stage.not_matching_requirement","extra":[{"translate":"medabots_server:advancements.special_items.passes.experiment"}]}
execute unless entity @s[nbt={SelectedItem:{tag:{medabots_server:{part:"tinpet",items:{head:{tag:{medabots_server:{id:"medabots_server:flame_tisala_sala_head"}}},right_arm:{tag:{medabots_server:{id:"medabots_server:flame_tisala_sala_hand"}}},left_arm:{tag:{medabots_server:{id:"medabots_server:flame_tisala_sala_arm"}}},legs:{tag:{medabots_server:{id:"medabots_server:flame_tisala_sala_tail"}}}}}}}}] run tellraw @s {"translate":"medabots_server:message.stage.not_matching_requirement","extra":[{"translate":"medabots_server:entity.flame_tisala"}]}
execute if entity @s[advancements={medabots_server:stages/wave_1/laboratory_b_special=true,medabots_server:mt_battle/medabot_vs_megabot=false}] run tellraw @s {"translate":"medabots_server:message.stage.not_matching_requirement","extra":[{"translate":"medabots_server:message.stage.requires.wins.0.version","with":[{"translate":"medabots_server:location.laboratory","with":[{"text":"B"}]},{"translate":"medabots_server:sign.stage.version.special"}]},{"translate":"medabots_server:message.stage.requires.or"},{"translate":"medabots_server:message.stage.requires.wins.1.version","with":[{"translate":"medabots_server:location.mt_battle"},{"translate":"medabots_server:sign.stage.version.other.wave","with":[{"text":"1"}]}]}]}
execute unless entity @s[nbt={SelectedItem:{tag:{medabots_server:{part:"tinpet",items:{medal:{tag:{medabots_server:{part:"medal"}}},head:{tag:{medabots_server:{part:"head"}}},right_arm:{tag:{medabots_server:{part:"right_arm"}}},left_arm:{tag:{medabots_server:{part:"left_arm"}}},legs:{tag:{medabots_server:{part:"legs"}}}}}}}}] run tellraw @s {"translate":"medabots_server:message.tinpet.not_valid"}