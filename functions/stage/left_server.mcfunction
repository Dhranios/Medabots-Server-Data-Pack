# Move to spectator area
execute if entity @s[scores={Stage=1}] run function medabots_server:stage/leave_stage/grassland_a/first_go
execute if entity @s[scores={Stage=2}] run function medabots_server:stage/leave_stage/grassland_a/second_go
execute if entity @s[scores={Stage=3}] run function medabots_server:stage/leave_stage/grassland_a/rubberrobo
execute if entity @s[scores={Stage=4}] run function medabots_server:stage/leave_stage/grassland_a/special
execute if entity @s[scores={Stage=5}] run function medabots_server:stage/leave_stage/rock_a/first_go
execute if entity @s[scores={Stage=6}] run function medabots_server:stage/leave_stage/rock_a/second_go
execute if entity @s[scores={Stage=7}] run function medabots_server:stage/leave_stage/rock_a/rubberrobo
execute if entity @s[scores={Stage=8}] run function medabots_server:stage/leave_stage/jungle_a/first_go
execute if entity @s[scores={Stage=9}] run function medabots_server:stage/leave_stage/jungle_a/second_go
execute if entity @s[scores={Stage=10}] run function medabots_server:stage/leave_stage/jungle_a/rubberrobo
execute if entity @s[scores={Stage=11}] run function medabots_server:stage/leave_stage/seashore_a/first_go
execute if entity @s[scores={Stage=12}] run function medabots_server:stage/leave_stage/seashore_a/second_go
execute if entity @s[scores={Stage=13}] run function medabots_server:stage/leave_stage/seashore_a/rubberrobo
execute if entity @s[scores={Stage=14}] run function medabots_server:stage/leave_stage/snowfield_a/first_go
execute if entity @s[scores={Stage=15}] run function medabots_server:stage/leave_stage/snowfield_a/second_go
execute if entity @s[scores={Stage=16}] run function medabots_server:stage/leave_stage/snowfield_a/rubberrobo
execute if entity @s[scores={Stage=17}] run function medabots_server:stage/leave_stage/iceberg_a/first_go
execute if entity @s[scores={Stage=18}] run function medabots_server:stage/leave_stage/iceberg_a/second_go
execute if entity @s[scores={Stage=19}] run function medabots_server:stage/leave_stage/iceberg_a/rubberrobo
execute if entity @s[scores={Stage=20}] run function medabots_server:stage/leave_stage/ruins_out_a/first_go
execute if entity @s[scores={Stage=21}] run function medabots_server:stage/leave_stage/ruins_out_a/second_go
execute if entity @s[scores={Stage=22}] run function medabots_server:stage/leave_stage/ruins_out_a/rubberrobo
execute if entity @s[scores={Stage=23}] run function medabots_server:stage/leave_stage/ruins_in_a/first_go
execute if entity @s[scores={Stage=24}] run function medabots_server:stage/leave_stage/ruins_in_a/second_go
execute if entity @s[scores={Stage=25}] run function medabots_server:stage/leave_stage/ruins_in_a/rubberrobo
execute if entity @s[scores={Stage=26}] run function medabots_server:stage/leave_stage/laboratory_a/first_go
execute if entity @s[scores={Stage=27}] run function medabots_server:stage/leave_stage/laboratory_a/second_go
execute if entity @s[scores={Stage=28}] run function medabots_server:stage/leave_stage/laboratory_a/rubberrobo
execute if entity @s[scores={Stage=29}] run function medabots_server:stage/leave_stage/grassland_b/first_go
execute if entity @s[scores={Stage=30}] run function medabots_server:stage/leave_stage/grassland_b/second_go
execute if entity @s[scores={Stage=31}] run function medabots_server:stage/leave_stage/rock_b/first_go
execute if entity @s[scores={Stage=32}] run function medabots_server:stage/leave_stage/rock_b/second_go
execute if entity @s[scores={Stage=33}] run function medabots_server:stage/leave_stage/rock_b/rubberrobo
execute if entity @s[scores={Stage=34}] run function medabots_server:stage/leave_stage/jungle_b/first_go
execute if entity @s[scores={Stage=35}] run function medabots_server:stage/leave_stage/jungle_b/second_go
execute if entity @s[scores={Stage=36}] run function medabots_server:stage/leave_stage/jungle_b/rubberrobo
execute if entity @s[scores={Stage=37}] run function medabots_server:stage/leave_stage/seashore_b/first_go
execute if entity @s[scores={Stage=38}] run function medabots_server:stage/leave_stage/seashore_b/second_go
execute if entity @s[scores={Stage=39}] run function medabots_server:stage/leave_stage/seashore_b/rubberrobo
execute if entity @s[scores={Stage=40}] run function medabots_server:stage/leave_stage/seashore_b/special
execute if entity @s[scores={Stage=41}] run function medabots_server:stage/leave_stage/snowfiled_b/first_go
execute if entity @s[scores={Stage=42}] run function medabots_server:stage/leave_stage/snowfield_b/second_go
execute if entity @s[scores={Stage=43}] run function medabots_server:stage/leave_stage/snowfield_b/rubberrobo
execute if entity @s[scores={Stage=44}] run function medabots_server:stage/leave_stage/snowfield_b/special
execute if entity @s[scores={Stage=45}] run function medabots_server:stage/leave_stage/iceberg_b/first_go
execute if entity @s[scores={Stage=46}] run function medabots_server:stage/leave_stage/iceberg_b/second_go
execute if entity @s[scores={Stage=47}] run function medabots_server:stage/leave_stage/ruins_out_b/first_go
execute if entity @s[scores={Stage=48}] run function medabots_server:stage/leave_stage/ruins_out_b/second_go
execute if entity @s[scores={Stage=49}] run function medabots_server:stage/leave_stage/ruins_out_b/rubberrobo
execute if entity @s[scores={Stage=50}] run function medabots_server:stage/leave_stage/ruins_out_b/special
execute if entity @s[scores={Stage=51}] run function medabots_server:stage/leave_stage/ruins_in_b/first_go
execute if entity @s[scores={Stage=52}] run function medabots_server:stage/leave_stage/ruins_in_b/second_go
execute if entity @s[scores={Stage=53}] run function medabots_server:stage/leave_stage/ruins_in_b/rubberrobo
execute if entity @s[scores={Stage=54}] run function medabots_server:stage/leave_stage/laboratory_b/first_go
execute if entity @s[scores={Stage=55}] run function medabots_server:stage/leave_stage/laboratory_b/second_go
execute if entity @s[scores={Stage=56}] run function medabots_server:stage/leave_stage/laboratory_b/rubberrobo
execute if entity @s[scores={Stage=57}] run function medabots_server:stage/leave_stage/laboratory_b/special
execute if entity @s[scores={Stage=58}] run function medabots_server:stage/leave_stage/park_a/first_go
execute if entity @s[scores={Stage=59}] run function medabots_server:stage/leave_stage/park_a/second_go
execute if entity @s[scores={Stage=60}] run function medabots_server:stage/leave_stage/park_a/special
execute if entity @s[scores={Stage=61}] run function medabots_server:stage/leave_stage/park_b/first_go
execute if entity @s[scores={Stage=62}] run function medabots_server:stage/leave_stage/park_b/second_go
execute if entity @s[scores={Stage=63}] run function medabots_server:stage/leave_stage/paradise_a/first_go
execute if entity @s[scores={Stage=64}] run function medabots_server:stage/leave_stage/paradise_a/second_go
execute if entity @s[scores={Stage=65}] run function medabots_server:stage/leave_stage/paradise_b/first_go
execute if entity @s[scores={Stage=66}] run function medabots_server:stage/leave_stage/paradise_b/second_go
execute if entity @s[scores={Stage=67}] run function medabots_server:stage/leave_stage/grassland_c/first_go
execute if entity @s[scores={Stage=68}] run function medabots_server:stage/leave_stage/grassland_c/second_go
execute if entity @s[scores={Stage=69}] run function medabots_server:stage/leave_stage/jungle_c/first_go
execute if entity @s[scores={Stage=70}] run function medabots_server:stage/leave_stage/jungle_c/second_go
execute if entity @s[scores={Stage=71}] run function medabots_server:stage/leave_stage/seashore_c/first_go
execute if entity @s[scores={Stage=72}] run function medabots_server:stage/leave_stage/seashore_c/second_go
execute if entity @s[scores={Stage=73}] run function medabots_server:stage/leave_stage/iceberg_c/first_go
execute if entity @s[scores={Stage=74}] run function medabots_server:stage/leave_stage/iceberg_c/second_go
execute if entity @s[scores={Stage=75}] run function medabots_server:stage/leave_stage/ruins_out_c/first_go
execute if entity @s[scores={Stage=76}] run function medabots_server:stage/leave_stage/ruins_out_c/second_go
execute if entity @s[scores={Stage=77}] run function medabots_server:stage/leave_stage/laboratory_c/first_go
execute if entity @s[scores={Stage=78}] run function medabots_server:stage/leave_stage/laboratory_c/second_go
execute if entity @s[scores={Stage=79}] run function medabots_server:stage/leave_stage/boxer/first_go
execute if entity @s[scores={Stage=80}] run function medabots_server:stage/leave_stage/boxer/second_go
execute if entity @s[scores={Stage=81}] run function medabots_server:stage/leave_stage/grassland_d
execute if entity @s[scores={Stage=82}] run function medabots_server:stage/leave_stage/jungle_d
execute if entity @s[scores={Stage=83}] run function medabots_server:stage/leave_stage/snowfield_d
execute if entity @s[scores={Stage=84}] run function medabots_server:stage/leave_stage/iceberg_d
execute if entity @s[scores={Stage=85}] run function medabots_server:stage/leave_stage/ruins_in_d
execute if entity @s[scores={Stage=86}] run function medabots_server:stage/leave_stage/laboratory_d
execute if entity @s[scores={Stage=87}] run function medabots_server:stage/leave_stage/lagdou_ruins_1
execute if entity @s[scores={Stage=88}] run function medabots_server:stage/leave_stage/lagdou_ruins_2
execute if entity @s[scores={Stage=89}] run function medabots_server:stage/leave_stage/lagdou_ruins_3
execute if entity @s[scores={Stage=90}] run function medabots_server:stage/leave_stage/lagdou_ruins_4
execute if entity @s[scores={Stage=91}] run function medabots_server:stage/leave_stage/lagdou_ruins_5
execute if entity @s[scores={Stage=92}] run function medabots_server:stage/leave_stage/lagdou_ruins_6
execute if entity @s[scores={Stage=93}] run function medabots_server:stage/leave_stage/lagdou_ruins_7
execute if entity @s[scores={Stage=94}] run function medabots_server:stage/leave_stage/lagdou_ruins_8
execute if entity @s[scores={Stage=95}] run function medabots_server:stage/leave_stage/lagdou_ruins_9
execute if entity @s[scores={Stage=96}] run function medabots_server:stage/leave_stage/lagdou_ruins_10
execute if entity @s[scores={Stage=97}] run function medabots_server:stage/leave_stage/ricco_harbor
execute if entity @s[scores={Stage=98}] run function medabots_server:stage/leave_stage/woods_battle
execute if entity @s[scores={Stage=99}] run function medabots_server:stage/leave_stage/icefield_battle
execute if entity @s[scores={Stage=100}] run function medabots_server:stage/leave_stage/ruins_battle
execute if entity @s[scores={Stage=101}] run function medabots_server:stage/leave_stage/park_battle
execute if entity @s[scores={Stage=102}] run function medabots_server:stage/leave_stage/grassland_a/object_test

# Get rid of their found objects
clear @s minecraft:lapis_lazuli{medabots_server:{stage_item:1b}}
clear @s minecraft:diamond{medabots_server:{stage_item:1b}}
clear @s minecraft:fishing_rod{medabots_server:{stage_item:1b}}
clear @s minecraft:diamond_pickaxe{medabots_server:{stage_item:1b}}

# Make hub music play
scoreboard players set @s MusicType 1
scoreboard players set @s Music 0
scoreboard players set @s[scores={Stage=69}] MusicType 22
scoreboard players set @s[scores={Stage=70}] MusicType 22
scoreboard players set @s[scores={Stage=71}] MusicType 22
scoreboard players set @s[scores={Stage=72}] MusicType 22
scoreboard players set @s[scores={Stage=73}] MusicType 22
scoreboard players set @s[scores={Stage=74}] MusicType 22
scoreboard players set @s[scores={Stage=75}] MusicType 22
scoreboard players set @s[scores={Stage=76}] MusicType 22
scoreboard players set @s[scores={Stage=77}] MusicType 22
scoreboard players set @s[scores={Stage=78}] MusicType 22
scoreboard players set @s[scores={Stage=79}] MusicType 22
scoreboard players set @s[scores={Stage=80}] MusicType 22